# 지연 가능한 뷰

앱 개발 중에는 앱에서 참조해야 하는 많은 구성 요소가 있지만, 그 중 일부는 여러 가지 이유로 즉시 로드할 필요가 없을 때가 있습니다.

아마도 그것들은 시각적으로 보이지 않는 영역 아래에 있거나 나중에 사용되지 않는 무거운 구성 요소일 수 있습니다. 이러한 경우, 지연 가능한 뷰를 사용하여 이러한 리소스의 일부를 나중에 로드할 수 있습니다.

이번 활동에서는 구성 요소 템플릿의 일부를 지연 로드하기 위해 지연 가능한 뷰를 사용하는 방법을 배우게 됩니다.

<hr>

<docs-workflow>

<docs-step title="댓글 구성 요소 주위에 `@defer` 블록 추가">

앱에서 블로그 게시물 페이지는 게시물 세부 사항 뒤에 댓글 구성 요소가 있습니다.

댓글 구성 요소를 감싸는 `@defer` 블록을 추가하여 로드를 지연시킵니다.

```angular-html
@defer {
  <comments />
}
```

위 코드는 기본 `@defer` 블록을 사용하는 방법의 예입니다. 기본적으로 `@defer`는 브라우저가 유휴 상태일 때 `comments` 구성 요소를 로드합니다.

</docs-step>

<docs-step title="플레이스홀더 추가">

`@defer` 블록에 `@placeholder` 블록을 추가합니다. `@placeholder` 블록은 지연 로딩이 시작되기 전에 표시될 HTML을 넣는 곳입니다. `@placeholder` 블록의 내용은 즉시 로드됩니다.

<docs-code language="angular-html" highlight="[3,4,5]">
@defer {
  <comments />
} @placeholder {
  <p>미래 댓글</p>
}
</docs-code>

</docs-step>

<docs-step title="로딩 블록 추가">

`@defer` 블록에 `@loading` 블록을 추가합니다. `@loading` 블록은 지연된 콘텐츠가 현재 가져오는 동안 표시될 HTML을 넣는 장소입니다. 아직 완료되지 않은 상태입니다. `@loading` 블록의 내용은 즉시 로드됩니다.

<docs-code language="angular-html" highlight="[5,6,7]">
@defer {
  <comments />
} @placeholder {
  <p>미래 댓글</p>
} @loading {
  <p>댓글 로딩 중...</p>
}
</docs-code>

</docs-step>

<docs-step title="최소 지속 시간 추가">

`@placeholder` 및 `@loading` 섹션 모두 로딩이 빠르게 이루어질 때 깜박임이 발생하지 않도록 방지하는 선택적 매개변수가 있습니다. `@placeholder`는 `minimum`을 가지고 있으며, `@loading`은 `minimum`과 `after`를 가집니다. `@loading` 블록에 최소 지속 시간을 추가하여 최소 2초 동안 렌더링되도록 합니다.

<docs-code language="angular-html" highlight="[5]">
@defer {
  <comments />
} @placeholder {
  <p>미래 댓글</p>
} @loading (minimum 2s) {
  <p>댓글 로딩 중...</p>
}
</docs-code>

</docs-step>

<docs-step title="뷰포트 트리거 추가">

지연 가능한 뷰에는 여러 트리거 옵션이 있습니다. 콘텐츠가 뷰포트에 들어가면 로드를 지연할 수 있도록 뷰포트 트리거를 추가합니다.

<docs-code language="angular-html" highlight="[1]">
@defer (on viewport) {
  <comments />
}
</docs-code>

</docs-step>

<docs-step title="콘텐츠 추가">

뷰포트 트리거는 페이지 아래쪽에 있으며 스크롤해야만 볼 수 있는 콘텐츠를 지연할 때 가장 잘 사용됩니다. 블로그 게시물에 콘텐츠를 추가해 보겠습니다. 본인이 직접 작성하거나 아래의 내용을 복사하여 `<article>` 요소 안에 넣을 수 있습니다.

<docs-code language="html" highlight="[1]">
<article>
  <p>Angular는 내가 가장 좋아하는 프레임워크이며, 그 이유는 이렇습니다. Angular는 콘텐츠를 지연 로드할 때 가장 쉽고 인체공학적으로 만들 수 있는 최고의 지연 가능한 뷰 기능을 가지고 있습니다. Angular 커뮤니티는 훌륭한 기여자와 전문가로 가득 차 있으며, 훌륭한 콘텐츠를 만듭니다. 이 커뮤니티는 환영하고 친근하며 정말 최고의 커뮤니티입니다.</p>
  <p>Angular로 작업하는 것이 얼마나 즐거운지 충분히 표현할 수 없습니다. 그동안 경험한 최고의 개발자 경험을 제공합니다. Angular 팀이 개발자를 최우선으로 여기고 우리를 매우 행복하게 하려는 배려가 마음에 듭니다. 그들은 진정으로 Angular가 최상의 프레임워크가 되기를 원하며, 그 일을 정말 잘 해내고 있습니다. 이 말은 제 마음에서 우러나온 것이며, 결코 복사&붙여넣기가 아닙니다. 사실, 나는 같은 말을 몇 번 더 할 것 같습니다.</p>
  <p>Angular는 내가 가장 좋아하는 프레임워크이며, 그 이유는 이렇습니다. Angular는 콘텐츠를 지연 로드할 때 가장 쉽고 인체공학적으로 만들 수 있는 최고의 지연 가능한 뷰 기능을 가지고 있습니다. Angular 커뮤니티는 훌륭한 기여자와 전문가로 가득 차 있으며, 훌륭한 콘텐츠를 만듭니다. 이 커뮤니티는 환영하고 친근하며 정말 최고의 커뮤니티입니다.</p>
  <p>Angular로 작업하는 것이 얼마나 즐거운지 충분히 표현할 수 없습니다. 그동안 경험한 최고의 개발자 경험을 제공합니다. Angular 팀이 개발자를 최우선으로 여기고 우리를 매우 행복하게 하려는 배려가 마음에 듭니다. 그들은 진정으로 Angular가 최상의 프레임워크가 되기를 원하며, 그 일을 정말 잘 해내고 있습니다. 이 말은 제 마음에서 우러나온 것이며, 결코 복사&붙여넣기가 아닙니다. 사실, 나는 같은 말을 몇 번 더 할 것 같습니다.</p>
  <p>Angular는 내가 가장 좋아하는 프레임워크이며, 그 이유는 이렇습니다. Angular는 콘텐츠를 지연 로드할 때 가장 쉽고 인체공학적으로 만들 수 있는 최고의 지연 가능한 뷰 기능을 가지고 있습니다. Angular 커뮤니티는 훌륭한 기여자와 전문가로 가득 차 있으며, 훌륭한 콘텐츠를 만듭니다. 이 커뮤니티는 환영하고 친근하며 정말 최고의 커뮤니티입니다.</p>
  <p>Angular로 작업하는 것이 얼마나 즐거운지 충분히 표현할 수 없습니다. 그동안 경험한 최고의 개발자 경험을 제공합니다. Angular 팀이 개발자를 최우선으로 여기고 우리를 매우 행복하게 하려는 배려가 마음에 듭니다. 그들은 진정으로 Angular가 최상의 프레임워크가 되기를 원하며, 그 일을 정말 잘 해내고 있습니다. 이 말은 제 마음에서 우러나온 것이며, 결코 복사&붙여넣기가 아닙니다.</p>
</article>
</docs-code>

이 코드를 추가한 후, 이제 스크롤하여 뷰포트에 들어올 때 지연된 콘텐츠가 로드되는 것을 확인하세요.

</docs-step>

</docs-workflow>

이번 활동에서는 애플리케이션에서 지연 가능한 뷰를 사용하는 방법을 배웠습니다. 훌륭한 작업입니다. 🙌

그들과 함께 사용할 수 있는 다양한 트리거, 프리패칭 및 `@error` 블록 등 더 많은 기능이 있습니다.

자세히 알고 싶다면 [지연 가능한 뷰에 대한 문서](guide/defer)를 확인하세요.